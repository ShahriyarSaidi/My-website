document.querySelectorAll(".image-slider-wrapper").forEach((e=>{const t=e.querySelector(".image-slider"),n=Array.from(t.querySelectorAll("img")),s=e.querySelector(".slider-dots"),r=n[0].cloneNode(!0),o=n[n.length-1].cloneNode(!0);t.appendChild(r),t.insertBefore(o,n[0]);const a=n.length;let i=1;t.style.transition="none",t.style.transform=`translateX(-${100*i}%)`,setTimeout((()=>{t.style.transition="transform 0.5s ease"}),50),n.forEach(((e,t)=>{const n=document.createElement("span");t===i-1&&n.classList.add("active"),n.addEventListener("click",(()=>{i=t+1,d()})),s.appendChild(n)}));const l=s.querySelectorAll("span");function d(e=!0){t.style.transition=e?"transform 0.5s ease":"none",t.style.transform=`translateX(-${100*i}%)`,l.forEach((e=>e.classList.remove("active")));let n=i-1;n<0&&(n=a-1),n>=a&&(n=0),l[n].classList.add("active")}t.addEventListener("transitionend",(()=>{0===i?(i=a,d(!1),setTimeout((()=>t.style.transition="transform 0.5s ease"),50)):i>a&&(i=1,d(!1),setTimeout((()=>t.style.transition="transform 0.5s ease"),50))})),e.querySelector(".next")?.addEventListener("click",(()=>{i++,d()})),e.querySelector(".prev")?.addEventListener("click",(()=>{i--,d()}));let c=0,u=!1,m=0;const f=e=>{u=!0,c=e,m=0,t.style.transition="none"},v=e=>{if(!u)return;m=e-c;const n=100*-i+m/t.offsetWidth*100;t.style.transform=`translateX(${n}%)`},y=()=>{if(!u)return;u=!1;const e=.2*t.offsetWidth;m>e?i--:m<-e&&i++,d(!0)};t.addEventListener("mousedown",(e=>f(e.pageX))),t.addEventListener("mousemove",(e=>v(e.pageX))),t.addEventListener("mouseup",y),t.addEventListener("mouseleave",y),t.addEventListener("touchstart",(e=>f(e.touches[0].clientX))),t.addEventListener("touchmove",(e=>v(e.touches[0].clientX))),t.addEventListener("touchend",y)}));